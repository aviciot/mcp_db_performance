version: "3.9"

services:
  oracle_performance_mcp:
    build:
      context: ./server
      dockerfile: Dockerfile
    container_name: oracle_performance_mcp

    ports:
      - "${MCP_PORT:-8300}:${MCP_PORT:-8300}"

    # ðŸ”¥ Hot reload for BOTH code and settings.yaml
    volumes:
      - ./server:/app
      - ./server/config/settings.yaml:/app/config/settings.yaml:ro

    env_file:
      - .env

    environment:
      MCP_PORT: ${MCP_PORT:-8300}
      UVICORN_RELOAD: "true"

    restart: unless-stopped
